{"version":3,"sources":["components/NimenLisays.js","components/FilterItems.js","components/TarkistaNimi.js","services/numerot.js","components/Notification.js","App.js","index.js"],"names":["NimenLisays","props","henkilö","name","number","id","type","FilterItems","objekti","filtersana","filter","toLowerCase","indexOf","TarkistaNimi","numberObject","persons","i","length","toUpperCase","trim","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","console","log","numerotService","initialNumerot","namesToShow","onChange","event","preventDefault","target","value","onSubmit","returnedNumber","concat","setTimeout","indeksi","window","confirm","changeObject","map","person","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9142d27b.chunk.js","sourcesContent":["import React from 'react'\r\nconst NimenLisays = (props) => {\r\n    return (\r\n      <div>\r\n        <p>\r\n          {props.henkilö.name} {props.henkilö.number} <button id={props.henkilö.id}  type=\"submit\">delete</button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default NimenLisays","\r\n/* otettu developer.mozilla.org */\r\nconst FilterItems = (objekti, filtersana) => {\r\n    return objekti.filter(henkilö => henkilö.name.toLowerCase().indexOf(filtersana.toLowerCase()) !== -1)\r\n  }\r\n\r\n  export default FilterItems","const TarkistaNimi = (numberObject, persons ) => {\r\n\r\n  for(let i = 0; i < persons.length; i++ ){  \r\n    if(numberObject.name.toUpperCase().trim() === persons[i].name.toUpperCase().trim()){\r\n      return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\nexport default TarkistaNimi\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const poista = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const korvaa = newObject=> {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`,newObject)\r\n       return request.then(response => response.data)\r\n  }\r\n\r\n  export default { getAll, create, poista, korvaa }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification ","import React, { useState, useEffect } from 'react'\nimport NimenLisays from './components/NimenLisays'\nimport FilterItems from './components/FilterItems'\nimport TarkistaNimi from './components/TarkistaNimi'\nimport numerotService from './services/numerot.js'\nimport Notification from './components/Notification.js'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState([])\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filtersana, setShowAll] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    numerotService\n    .getAll()\n    .then(initialNumerot  => {\n        setPersons(initialNumerot)\n      })\n  }, [])\n\n  console.log(\"persons\")\n  console.log(persons)\n  const namesToShow = filtersana.length<1  ? persons : FilterItems(persons , filtersana)\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter = (event) =>{\n    event.preventDefault()\n    setShowAll(event.target.value)\n  }\n\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const numberObject = {\n      name: newName,\n      number: newNumber,\n      id: newName,\n    }\n\n    if(TarkistaNimi(numberObject, persons) === -1){\n      numerotService\n      .create(numberObject)\n      .then(returnedNumber => {\n        setPersons(persons.concat(returnedNumber))\n        setNewName('')\n        setNewNumber('')\n      })\n  \n      setErrorMessage(\n        `Added ${numberObject.name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n\n    }\n    else{\n      const indeksi = (TarkistaNimi(numberObject, persons))\n\n      if(window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\")){\n        const changeObject = {\n          name: persons[indeksi].name,\n          number: numberObject.number,\n          id: persons[indeksi].id,\n        }\n        \n    \n        numerotService\n        .korvaa( changeObject )\n        .then (response => {\n          setPersons(persons.map(person => person.id === changeObject.id ? changeObject : person))\n        })\n        setErrorMessage(\n          `${numberObject.name} number change`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    }\n  }\n\n\n  const handlePoista =  (event) => {\n    console.log(\"event.target.id\")\n    console.log(event.target.id)\n\n    if(window.confirm(\"Delete \"+ event.target.id + \" ?\" )){\n      numerotService\n      .poista(event.target.id)\n      .then (response => {\n        setPersons(persons.filter(person => person.id !== event.target.id))\n      })\n      setErrorMessage(\n        `Deleted ${event.target.id}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } \n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Notification message={errorMessage}/>\n      <p> filter shown with: <input onChange={handleFilter}/></p>\n      <h3>add a new</h3>\n      <form onSubmit={addNumber}>\n        <div>\n         <p> name: <input value={newName} onChange={handleNameChange}/></p>\n         <p> number: <input value={newNumber} onChange={handleNumberChange}/></p>\n        </div>\n        <div >\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n        <div onClick= {handlePoista}>\n          {namesToShow.map(henkilö => <NimenLisays key={henkilö.name} henkilö={henkilö}/>)}\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}