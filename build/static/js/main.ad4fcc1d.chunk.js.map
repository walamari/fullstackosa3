{"version":3,"sources":["components/NimenLisays.js","components/FilterItems.js","components/TarkistaNimi.js","services/numerot.js","components/Notification.js","App.js","index.js"],"names":["NimenLisays","props","console","log","id","henkilö","name","number","onClick","handlePoista","type","FilterItems","objekti","filtersana","filter","toLowerCase","indexOf","TarkistaNimi","numberObject","persons","i","length","toUpperCase","trim","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","numerotService","initialNumerot","namesToShow","event","etsittavanNimi","person","target","window","confirm","setTimeout","onChange","preventDefault","value","onSubmit","String","returnedNumber","concat","indeksi","changeObject","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad4fcc1d.chunk.js","sourcesContent":["import React from 'react'\r\nconst NimenLisays = (props) => {\r\n\r\n  console.log(\"nimenlisäys prrops\")\r\n  console.log(props.id)\r\n  console.log(props)\r\n\r\n    return (\r\n      <div>\r\n        <p>\r\n          {props.henkilö.name} {props.henkilö.number} <button onClick= {props.handlePoista} name={props.henkilö.name} id={props.henkilö.id}  type=\"submit\">delete</button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default NimenLisays","\r\n/* otettu developer.mozilla.org */\r\nconst FilterItems = (objekti, filtersana) => {\r\n    return objekti.filter(henkilö => henkilö.name.toLowerCase().indexOf(filtersana.toLowerCase()) !== -1)\r\n  }\r\n\r\n  export default FilterItems","const TarkistaNimi = (numberObject, persons ) => {\r\n\r\n  for(let i = 0; i < persons.length; i++ ){  \r\n    if(numberObject.name.toUpperCase().trim() === persons[i].name.toUpperCase().trim()){\r\n      return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\nexport default TarkistaNimi\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const poista = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const korvaa = newObject=> {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`,newObject)\r\n       return request.then(response => response.data)\r\n  }\r\n\r\n  export default { getAll, create, poista, korvaa }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification ","import React, { useState, useEffect } from 'react'\nimport NimenLisays from './components/NimenLisays'\nimport FilterItems from './components/FilterItems'\nimport TarkistaNimi from './components/TarkistaNimi'\nimport numerotService from './services/numerot.js'\nimport Notification from './components/Notification.js'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState([])\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filtersana, setShowAll] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    numerotService\n    .getAll()\n    .then(initialNumerot  => {\n        setPersons(initialNumerot)\n      })\n  }, [])\n\n  console.log(\"persons\")\n  console.log(persons)\n  const namesToShow = filtersana.length<1  ? persons : FilterItems(persons , filtersana)\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter = (event) =>{\n    event.preventDefault()\n    setShowAll(event.target.value)\n  }\n\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const numberObject = {\n      name: newName,\n      number: newNumber,\n      id: String,\n    }\n\n    if(TarkistaNimi(numberObject, persons) === -1){\n      numerotService\n      .create(numberObject)\n      .then(returnedNumber => {\n        setPersons(persons.concat(returnedNumber))\n        setNewName('')\n        setNewNumber('')\n      })\n  \n      setErrorMessage(\n        `Added ${numberObject.name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n\n    }\n    else{\n      const indeksi = (TarkistaNimi(numberObject, persons))\n\n      if(window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\")){\n        const changeObject = {\n          name: persons[indeksi].name,\n          number: numberObject.number,\n          id: numberObject.id,\n        }\n        \n    \n        numerotService\n        .korvaa( changeObject )\n        .then (response => {\n          setPersons(persons.map(person => person.id === changeObject.id ? changeObject : person))\n        })\n        setErrorMessage(\n          `${numberObject.name} number change`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    }\n  }\n\n\n  const handlePoista = (event) => {\n    const etsittavanNimi = persons.filter(person => person.id === event.target.id)\n    if(window.confirm(\"Delete \"+ etsittavanNimi[0].name + \" ?\" )){\n      numerotService\n      .poista(event.target.id)\n      .then (response => {\n        setPersons(persons.filter(person => person.id !== event.target.id))\n      })\n      setErrorMessage(\n        `Deleted ${etsittavanNimi[0].name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } \n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Notification message={errorMessage}/>\n      <p> filter shown with: <input onChange={handleFilter}/></p>\n      <h3>add a new</h3>\n      <form onSubmit={addNumber}>\n        <div>\n         <p> name: <input value={newName} onChange={handleNameChange}/></p>\n         <p> number: <input value={newNumber} onChange={handleNumberChange}/></p>\n        </div>\n        <div >\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n        <div >\n          {namesToShow.map(henkilö => <NimenLisays key={henkilö.name} henkilö={henkilö} handlePoista={handlePoista} />)}\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}