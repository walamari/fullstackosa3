{"version":3,"sources":["components/NimenLisays.js","components/FilterItems.js","services/numerot.js","components/Notification.js","App.js","index.js"],"names":["NimenLisays","props","henkilö","name","number","onClick","handlePoista","id","type","FilterItems","objekti","filtersana","filter","toLowerCase","indexOf","baseUrl","axios","get","then","response","data","newObject","post","delete","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","console","log","numerotService","initialNumerot","namesToShow","length","event","etsittavanNimi","person","target","window","confirm","setTimeout","onChange","preventDefault","value","onSubmit","String","returnedNumber","concat","catch","error","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b504cf56.chunk.js","sourcesContent":["import React from 'react'\r\nconst NimenLisays = (props) => {\r\n\r\n    return (\r\n      <div>\r\n        <p>\r\n          {props.henkilö.name} {props.henkilö.number} <button onClick= {props.handlePoista} id={props.henkilö.id}  type=\"submit\">delete</button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default NimenLisays","\r\n/* otettu developer.mozilla.org */\r\nconst FilterItems = (objekti, filtersana) => {\r\n    return objekti.filter(henkilö => henkilö.name.toLowerCase().indexOf(filtersana.toLowerCase()) !== -1)\r\n  }\r\n\r\n  export default FilterItems","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const poista = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const korvaa = newObject=> {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`,newObject)\r\n       return request.then(response => response.data)\r\n  }\r\n\r\n  export default { getAll, create, poista, korvaa }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification ","import React, { useState, useEffect } from 'react'\nimport NimenLisays from './components/NimenLisays'\nimport FilterItems from './components/FilterItems'\nimport TarkistaNimi from './components/TarkistaNimi'\nimport numerotService from './services/numerot.js'\nimport Notification from './components/Notification.js'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filtersana, setShowAll] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    numerotService\n    .getAll()\n    .then(initialNumerot  => {\n        setPersons(initialNumerot)\n      })\n  }, [])\n\n  console.log(\"persons\")\n  console.log(persons)\n  const namesToShow = filtersana.length<1  ? persons : FilterItems(persons , filtersana)\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter = (event) =>{\n    event.preventDefault()\n    setShowAll(event.target.value)\n  }\n\n\n  const addNumber = (event) => {\n    event.preventDefault() \n    const numberObject = {\n      name: newName,\n      number: newNumber,\n      id: String,\n    }\n\n/*     setErrorMessage(\n      console.log(error.response.data)\n    )\n */\n\n/*     if(numberObject.number.length === 0 || numberObject.name.length === 0){\n      setErrorMessage(\n        `Nimi tai numero ei voi olla tyhjä!`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      return\n    } */\n\n\n    /* if(TarkistaNimi(numberObject, persons) === -1){ */\n      numerotService\n      .create(numberObject)\n      .then(returnedNumber => {\n        setPersons(persons.concat(returnedNumber))\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        console.log(error.response.data)\n\n        setErrorMessage(\n          `${error.response.data}`\n        )\n\n      })\n\n     \n\n/*       setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000) */\n /*    }\n    else{\n      const indeksi = (TarkistaNimi(numberObject, persons))\n\n\n\n      if(window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\")){\n        const changeObject = {\n          name: persons[indeksi].name,\n          number: numberObject.number,\n          id: numberObject.id,\n        }\n        \n        numerotService\n        .korvaa( changeObject )\n        .then (response => {\n          setPersons(persons.map(person => person.id === changeObject.id ? changeObject : person))\n        })\n        setErrorMessage(\n          `${numberObject.name} number change`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    } */\n  }\n\n\n  const handlePoista = (event) => {\n    const etsittavanNimi = persons.filter(person => person.id === event.target.id)\n    if(window.confirm(\"Delete \"+ etsittavanNimi[0].name + \" ?\" )){\n      numerotService\n      .poista(event.target.id)\n      .then (response => {\n        setPersons(persons.filter(person => person.id !== event.target.id))\n      })\n      setErrorMessage(\n        `Deleted ${etsittavanNimi[0].name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } \n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Notification message={errorMessage}/>\n      <p> filter shown with: <input onChange={handleFilter}/></p>\n      <h3>add a new</h3>\n      <form onSubmit={addNumber}>\n        <div>\n         <p> name: <input value={newName} onChange={handleNameChange}/></p>\n         <p> number: <input value={newNumber} onChange={handleNumberChange}/></p>\n        </div>\n        <div >\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n        <div >\n          {namesToShow.map(henkilö => <NimenLisays key={henkilö.name} henkilö={henkilö} handlePoista={handlePoista} />)}\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}