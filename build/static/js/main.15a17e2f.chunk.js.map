{"version":3,"sources":["components/NimenLisays.js","components/FilterItems.js","components/TarkistaNimi.js","services/numerot.js","components/Notification.js","App.js","index.js"],"names":["NimenLisays","props","henkilö","name","number","onClick","handlePoista","id","type","FilterItems","objekti","filtersana","filter","toLowerCase","indexOf","TarkistaNimi","numberObject","persons","i","length","toUpperCase","trim","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","errorMessage","setErrorMessage","useEffect","console","log","numerotService","initialNumerot","namesToShow","event","etsittavanNimi","person","target","window","confirm","setTimeout","onChange","preventDefault","value","onSubmit","String","undefined","returnedNumber","concat","indeksi","changeObject","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15a17e2f.chunk.js","sourcesContent":["import React from 'react'\r\nconst NimenLisays = (props) => {\r\n\r\n    return (\r\n      <div>\r\n        <p>\r\n          {props.henkilö.name} {props.henkilö.number} <button onClick= {props.handlePoista} id={props.henkilö.id}  type=\"submit\">delete</button>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default NimenLisays","\r\n/* otettu developer.mozilla.org */\r\nconst FilterItems = (objekti, filtersana) => {\r\n    return objekti.filter(henkilö => henkilö.name.toLowerCase().indexOf(filtersana.toLowerCase()) !== -1)\r\n  }\r\n\r\n  export default FilterItems","const TarkistaNimi = (numberObject, persons ) => {\r\n\r\n  \r\n\r\n  for(let i = 0; i < persons.length; i++ ){  \r\n    if(numberObject.name.toUpperCase().trim() === persons[i].name.toUpperCase().trim()){\r\n      return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\nexport default TarkistaNimi\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const poista = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const korvaa = newObject=> {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`,newObject)\r\n       return request.then(response => response.data)\r\n  }\r\n\r\n  export default { getAll, create, poista, korvaa }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification ","import React, { useState, useEffect } from 'react'\nimport NimenLisays from './components/NimenLisays'\nimport FilterItems from './components/FilterItems'\nimport TarkistaNimi from './components/TarkistaNimi'\nimport numerotService from './services/numerot.js'\nimport Notification from './components/Notification.js'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState([])\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filtersana, setShowAll] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('effect')\n    numerotService\n    .getAll()\n    .then(initialNumerot  => {\n        setPersons(initialNumerot)\n      })\n  }, [])\n\n  console.log(\"persons\")\n  console.log(persons)\n  const namesToShow = filtersana.length<1  ? persons : FilterItems(persons , filtersana)\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilter = (event) =>{\n    event.preventDefault()\n    setShowAll(event.target.value)\n  }\n\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const numberObject = {\n      name: newName,\n      number: newNumber,\n      id: String,\n    }\n\n    console.log(\"numberObject.name\")\n    console.log(numberObject.name)\n    console.log(numberObject.number)\n    console.log(typeof(numberObject.number))\n    console.log(typeof(numberObject.name))\n\n    if (typeof(numberObject.name) === undefined || typeof(numberObject.number) === undefined){\n     \n      console.log(\"testi\")\n\n      setErrorMessage(\n        `Nimi tai numero ei voi olla tyhjä!`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      return\n    }\n\n\n    if(TarkistaNimi(numberObject, persons) === -1){\n      numerotService\n      .create(numberObject)\n      .then(returnedNumber => {\n        setPersons(persons.concat(returnedNumber))\n        setNewName('')\n        setNewNumber('')\n      })\n  \n      setErrorMessage(\n        `Added ${numberObject.name}`\n      )\n\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n    else{\n      const indeksi = (TarkistaNimi(numberObject, persons))\n\n      if(window.confirm(newName + \" is already added to phonebook, replace the old number with a new one?\")){\n        const changeObject = {\n          name: persons[indeksi].name,\n          number: numberObject.number,\n          id: numberObject.id,\n        }\n        \n        numerotService\n        .korvaa( changeObject )\n        .then (response => {\n          setPersons(persons.map(person => person.id === changeObject.id ? changeObject : person))\n        })\n        setErrorMessage(\n          `${numberObject.name} number change`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    }\n  }\n\n\n  const handlePoista = (event) => {\n    const etsittavanNimi = persons.filter(person => person.id === event.target.id)\n    if(window.confirm(\"Delete \"+ etsittavanNimi[0].name + \" ?\" )){\n      numerotService\n      .poista(event.target.id)\n      .then (response => {\n        setPersons(persons.filter(person => person.id !== event.target.id))\n      })\n      setErrorMessage(\n        `Deleted ${etsittavanNimi[0].name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } \n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2> \n      <Notification message={errorMessage}/>\n      <p> filter shown with: <input onChange={handleFilter}/></p>\n      <h3>add a new</h3>\n      <form onSubmit={addNumber}>\n        <div>\n         <p> name: <input value={newName} onChange={handleNameChange}/></p>\n         <p> number: <input value={newNumber} onChange={handleNumberChange}/></p>\n        </div>\n        <div >\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n        <div >\n          {namesToShow.map(henkilö => <NimenLisays key={henkilö.name} henkilö={henkilö} handlePoista={handlePoista} />)}\n        </div>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}